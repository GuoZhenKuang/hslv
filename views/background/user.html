<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>用户管理</title>
	<link rel="stylesheet" href="/public/src/bootstrap.min.css"/>
	<script src="/public/src/jquery.min.js"></script>
	<script src="/public/src/bootstrap.min.js"></script>
	<style>
		*{
			margin: 0 0;
			padding: 0 0;
		}
		body,html{
			overflow-x: hidden;
		}
		.check{
			background-color:#5BC0DE!important;
			opacity:0.8;
		}
		.check a{
			color: white;
		}
		input[type="button"]{
			width:100px;
			margin: 5px 10px;
		}
		#header{
			padding: 15px;
		}
		#ss{
			margin: 5px 0;
		}
		#ss button,#ss input{
			height:35px;
		}
		table{
			margin:20px 0;
		}
		.modal-body{
			height:365px;
			overflow-y:scroll;
		}
		#page{
			width:235px;
			margin:10px auto 0;
		}
		.pagination{
			position: absolute;
			top:495px;
		}
		tr:hover{
			cursor: pointer;
		}
	</style>
</head>
<body>
	<form method="post">
		<div id="header" class="row">
			<div class="col-lg-4 col-md-5 col-sm-12">
				<input id="add" type="button" value="添加用户" name="add" class="btn btn-info" data-toggle="modal" data-target="#myModal2"/>
				<input id="del" type="button" value="删除用户" name="del" class="btn btn-info"/>			
			</div>
			<div class="col-lg-8 col-md-7 col-sm-12" id="ss">
				<div class="input-group">
					<input type="text" class="form-control">
					<span class="input-group-btn">
						<button class="btn btn-default" type="button">
							搜索
						</button>
					</span>
				</div>			
			</div>
		</div>
		<table class="table table-striped table-responsive">
			<thead>
				<tr>
					<th>序号</th>
					<th>用户名</th>
					<th>昵称</th>
					<th>生日</th>
					<th>邮箱</th>
					<th>权限</th>
				</tr>
			</thead>
			<tbody>
				{{ each user }}
				<tr>
					<td>{{ $index +1 }}</td>
					<td>{{ $value.username }}</td>
					<td>{{ $value.nickname }}</td>
					<td>{{ $value.birthday }}</td>
					<td>{{ $value.email }}</td>
					<td>{{ $value.satus }}</td>
					<td><a href="#" data-toggle="modal" data-target="#myModal">删除</a></td>				
				</tr>
				{{ /each }}			
			</tbody>
		</table>		
		<div id="page">
			<ul class="pagination">
					<li><a href="#">&laquo;</a></li>
					<li><a href="#">1</a></li>
					<li><a href="#">2</a></li>
					<li><a href="#">3</a></li>
					<li><a href="#">4</a></li>
					<li><a href="#">5</a></li>
					<li><a href="#">&raquo;</a></li>
			</ul>		
		</div>
		<!--修改的弹出窗-->
		<div class="modal fade" id="myModal" tabindex="-1" aria-labelledby="#myModalLabel" role="dialog" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
						<h4 class="modal-title" id="myModalLabel">
						详情部分
						</h4>
					</div>
					<div class="modal-body">
						<form method="post" role="form">
							<div class="form-group">
								<label>姓名：</label>
								<input type="text" class="form-control" id="name" placeholder="请输入姓名"/>
							</div>
							<div class="form-group">
								<label>性别：</label>
								<input type="text" class="form-control" id="sex" placeholder="请输入性别" maxlength="1"/>
							</div> 
							<div class="form-group">
								<label>出生年月：</label>
								<input type="date" class="form-control" id="data"/>
							</div>    
							<div class="form-group">
								<label>地址：</label>
								<input type="text" class="form-control" id="address" placeholder="请输入地址"/>
							</div>
							<div class="form-group">
								<label>邮箱：</label>
								<input type="email" class="form-control" id="email" placeholder="请输入邮箱"/>
							</div>	
							<div class="form-group">
								<label>个人简历：</label>
								<textarea class="form-control"></textarea>
							</div>							
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
						<button type="button" class="btn btn-info">修改</button>
					</div>
				</div>
			</div>
		</div>		
		<!---->
		<div class="modal fade" id="myModal2" tabindex="-1" aria-labelledby="#myModalLabel2" role="dialog" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
						<h4 class="modal-title" id="myModalLabel2">
						添加部分
						</h4>
					</div>
					<div class="modal-body">
						<form method="post" role="form">
							<div class="form-group">
								<label>姓名：</label>
								<input type="text" class="form-control" id="nameadd" placeholder="请输入姓名"/>
							</div>
							<div class="form-group">
								<label>性别：</label>
								<input type="text" class="form-control" id="sexadd" placeholder="请输入性别" maxlength="1"/>
							</div> 
							<div class="form-group">
								<label>出生年月：</label>
								<input type="date" class="form-control" id="dataadd"/>
							</div>    
							<div class="form-group">
								<label>地址：</label>
								<input type="text" class="form-control" id="addressadd" placeholder="请输入地址"/>
							</div>
							<div class="form-group">
								<label>邮箱：</label>
								<input type="email" class="form-control" id="emailadd" placeholder="请输入邮箱"/>
							</div>	
							<div class="form-group">
								<label>个人简历：</label>
								<textarea class="form-control"></textarea>
							</div>							
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
						<button type="button" class="btn btn-info">修改</button>
					</div>
				</div>
			</div>
		</div>			
	</form>
	<script>
		$(document).ready(function(){
			$("tr").slice(1).click(function(){		
				for(var i=0;i<$("tr").length;i++){
					var c=$(this).index()+1;
					if(i==c){
						$("tr").eq(c).toggleClass("check");
					}else{
						$("tr").eq(i).removeClass("check");
					}				
				};
			});
			$("#del").click(function(){
				for(var i=0;i<$("tr").slice(1).length;i++){
					if($("tr").slice(1).eq(i).hasClass("check")){
						return;
					}
				}
				alert("请先选中记录！");
			});
		});
	</script>
</body>
</html>